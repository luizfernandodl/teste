<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Opera√ß√£o Caixa Preta</title>
  <style>
    :root{
      --accent:#21d07a; --accent-2:#00a86b; --bg-overlay: rgba(0,0,0,.55);
      --text:#e7f6ef; --muted:#a9c7b9; --error:#ff6b6b; --ok:#5be37b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;
      color:var(--text); background:#0b1d1a; overflow:hidden;
    }
    .bg{ position:fixed; inset:0; z-index:-2;
      background:#000 url('assets/bg.jpg') center/cover no-repeat fixed;
      filter:saturate(1.05) contrast(1.05); }
    .bg::after{ content:""; position:absolute; inset:0; background:var(--bg-overlay); }

    .wrap{ height:100%; display:grid; grid-template-rows:auto 1fr auto; }
    header{ padding:18px 22px; display:flex; align-items:center; gap:14px; }
    header .badge{background:rgba(0,0,0,.45); padding:6px 10px; border-radius:999px; font-size:.85rem; color:var(--muted)}
    header h1{ font-size:1.25rem; margin:0; letter-spacing:.3px; text-shadow:0 3px 12px rgba(0,0,0,.5); }

    .grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:16px; padding:10px 22px 22px; align-content:start; overflow:auto; }
    .card{
      background: transparent;
      border: none;
      box-shadow: none;
      padding: 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .card h2, .card p, .card .status {
      text-shadow: 0 0 4px rgba(0,0,0,0.8);
    }
    .lock-illustration{ height:74px; display:flex; align-items:center; justify-content:center; margin:6px 0 12px; opacity:.95 }

    .row{ display:flex; gap:10px; align-items:center; margin-top:auto }
    input[type="text"]{ flex:1; padding:12px; border-radius:12px; border:1px solid #ccc; background: rgba(0,0,0,0.3); color:var(--text); font-size:1rem; outline:none }
    button{ padding:12px 14px; border-radius:12px; background:linear-gradient(180deg,var(--accent),var(--accent-2)); color:#062315; font-weight:700; cursor:pointer; }
    .status{ margin-top:10px; min-height:22px; font-size:.9rem }

    .ok{ color:var(--ok) } .err{ color:var(--error) }

    footer{ display:flex; justify-content:space-between; padding:14px 22px; }
    .dot{ width:14px; height:14px; border-radius:50%; border:2px solid #72f1b3aa; background:transparent }
    .dot.on{ background:var(--accent) }
    .reset{ background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,.2) }

    .help{ position:fixed; right:14px; bottom:84px; background:rgba(0,0,0,.6); padding:8px 12px; border-radius:12px; font-size:.85rem; color:var(--muted) }

    .modal{ position:fixed; inset:0; display:none; place-items:center; backdrop-filter:blur(4px); }
    .modal.show{ display:grid }
    .modal .box{ background:#061914cc; padding:28px; border-radius:16px; text-align:center; color:var(--text); max-width:90%; }
  </style>
</head>
<body>
  <div class="bg"></div>
  <div class="wrap">
    <header><span class="badge">Jogo Sequencial</span><h1>Opera√ß√£o Caixa Preta</h1></header>
    <main class="grid" id="grid"></main>
    <footer>
      <div class="progress" id="progress"></div>
      <button class="reset" id="btnReset">Reiniciar</button>
    </footer>
  </div>

  <div class="help">Dica: as senhas n√£o diferenciam mai√∫sculas/min√∫sculas.</div>

  <div class="modal" id="congrats">
    <div class="box">
      <h3>Parab√©ns, voc√™s conclu√≠ram o desafio üéâ</h3>
      <button id="closeModal">Fechar</button>
    </div>
  </div>

  <script>
    const LOCKS = [
      { id: 1, titulo: 'Cadeado 1', senha: 'GOLPE' },
      { id: 2, titulo: 'Cadeado 2', senha: 'CEMCC' },
      { id: 3, titulo: 'Cadeado 3', senha: 'DESVIO' },
      { id: 4, titulo: 'Cadeado 4', senha: 'SUBORNO' },
      { id: 5, titulo: 'Cadeado 5', senha: '212' },
    ];
    const normalize = v => (v||'').toString().trim().toUpperCase().normalize('NFD').replace(/\p{Diacritic}/gu,'');
    const LS_KEY = 'cadeados-v1'; let state = JSON.parse(localStorage.getItem(LS_KEY)||"{}");
    const save = () => localStorage.setItem(LS_KEY, JSON.stringify(state));
    const grid = document.getElementById("grid"), modal=document.getElementById("congrats");

    function lock(open){
      const s=open?'#5be37b':'#e7f6ef';
      const p=open?'<path d="M36 24v-6a12 12 0 0 0-24 0"/>':'<path d="M30 18v-2a12 12 0 0 0-24 0v8"/>';
      return `<svg viewBox="0 0 48 48" width="80">${p}<rect x="6" y="18" width="36" height="26" rx="4" fill="none" stroke="${s}" stroke-width="3"/><circle cx="24" cy="32" r="3" fill="${s}"/></svg>`;
    }

    function render(){
      grid.innerHTML = ""
